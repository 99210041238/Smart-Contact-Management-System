{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rohit\\\\OneDrive\\\\Desktop\\\\projects\\\\Contactmanagementsystem\\\\frontend\\\\src\\\\pages\\\\EditContact.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport SearchBar from \"../components/SearchBar\";\nimport ContactList from \"../components/ContactList\";\nimport { getAllContacts, searchContacts, updateContact } from \"../services/contactService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditContact() {\n  _s();\n  // üîπ SEARCH STATES\n  const [query, setQuery] = useState(\"\");\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\n  const [selectedTag, setSelectedTag] = useState(\"\");\n\n  // üîπ DATA STATES\n  const [contacts, setContacts] = useState([]);\n  const [selected, setSelected] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n\n  // üîπ FETCH CONTACTS\n  useEffect(() => {\n    getAllContacts().then(setContacts);\n  }, []);\n\n  // üîπ SEARCH LOGIC\n  const searchedResults = searchContacts(query, contacts);\n  const results = searchedResults.filter(c => {\n    return (!selectedCompany || c.company === selectedCompany) && (!selectedTag || c.tag === selectedTag);\n  });\n\n  // üîπ HANDLE INPUT CHANGE\n  const handleChange = e => {\n    setSelected({\n      ...selected,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // üîπ UPDATE HANDLER\n  const handleUpdate = async () => {\n    try {\n      const updated = await updateContact(selected._id, selected);\n      alert(\"Contact updated successfully ‚úÖ\");\n\n      // update local list\n      setContacts(prev => prev.map(c => c._id === updated._id ? updated : c));\n      setIsEditing(false);\n    } catch (error) {\n      alert(\"Update failed ‚ùå\");\n      console.error(error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-slate-50 dark:bg-slate-900 px-6 py-10\",\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      value: query,\n      onChange: setQuery,\n      selectedCompany: selectedCompany,\n      setSelectedCompany: setSelectedCompany,\n      selectedTag: selectedTag,\n      setSelectedTag: setSelectedTag\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), query.trim() === \"\" && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-6 text-center text-slate-500\",\n      children: \"Start typing to search contacts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this), query.trim() !== \"\" && /*#__PURE__*/_jsxDEV(ContactList, {\n      contacts: results,\n      onEdit: contact => {\n        setSelected(contact);\n        setIsEditing(false);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }, this), selected && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-10 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg max-w-3xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-xl font-bold text-yellow-500 mb-6\",\n        children: isEditing ? \"Edit Contact\" : \"Contact Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 md:grid-cols-2 gap-4\",\n        children: [\"firstName\", \"lastName\", \"email\", \"phone\", \"company\", \"tag\"].map(field => /*#__PURE__*/_jsxDEV(\"input\", {\n          name: field,\n          value: selected[field],\n          onChange: handleChange,\n          disabled: !isEditing,\n          className: `input ${!isEditing ? \"bg-slate-100 cursor-not-allowed\" : \"\"}`,\n          placeholder: field\n        }, field, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex gap-4 mt-6\",\n        children: !isEditing ? /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsEditing(true),\n          className: \"feature-btn bg-yellow-500 hover:bg-yellow-600\",\n          children: \"Edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleUpdate,\n          className: \"feature-btn bg-green-500 hover:bg-green-600\",\n          children: \"Update Contact\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(EditContact, \"3r2JVlmkRpqBc7MzJOQP0JhfBkw=\");\n_c = EditContact;\nvar _c;\n$RefreshReg$(_c, \"EditContact\");","map":{"version":3,"names":["useEffect","useState","SearchBar","ContactList","getAllContacts","searchContacts","updateContact","jsxDEV","_jsxDEV","EditContact","_s","query","setQuery","selectedCompany","setSelectedCompany","selectedTag","setSelectedTag","contacts","setContacts","selected","setSelected","isEditing","setIsEditing","then","searchedResults","results","filter","c","company","tag","handleChange","e","target","name","value","handleUpdate","updated","_id","alert","prev","map","error","console","className","children","onChange","fileName","_jsxFileName","lineNumber","columnNumber","trim","onEdit","contact","field","disabled","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/rohit/OneDrive/Desktop/projects/Contactmanagementsystem/frontend/src/pages/EditContact.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport SearchBar from \"../components/SearchBar\";\r\nimport ContactList from \"../components/ContactList\";\r\nimport {\r\n  getAllContacts,\r\n  searchContacts,\r\n  updateContact\r\n} from \"../services/contactService\";\r\n\r\nexport default function EditContact() {\r\n  // üîπ SEARCH STATES\r\n  const [query, setQuery] = useState(\"\");\r\n  const [selectedCompany, setSelectedCompany] = useState(\"\");\r\n  const [selectedTag, setSelectedTag] = useState(\"\");\r\n\r\n  // üîπ DATA STATES\r\n  const [contacts, setContacts] = useState([]);\r\n  const [selected, setSelected] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  // üîπ FETCH CONTACTS\r\n  useEffect(() => {\r\n    getAllContacts().then(setContacts);\r\n  }, []);\r\n\r\n  // üîπ SEARCH LOGIC\r\n  const searchedResults = searchContacts(query, contacts);\r\n  const results = searchedResults.filter((c) => {\r\n    return (\r\n      (!selectedCompany || c.company === selectedCompany) &&\r\n      (!selectedTag || c.tag === selectedTag)\r\n    );\r\n  });\r\n\r\n  // üîπ HANDLE INPUT CHANGE\r\n  const handleChange = (e) => {\r\n    setSelected({ ...selected, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  // üîπ UPDATE HANDLER\r\n  const handleUpdate = async () => {\r\n    try {\r\n      const updated = await updateContact(selected._id, selected);\r\n      alert(\"Contact updated successfully ‚úÖ\");\r\n\r\n      // update local list\r\n      setContacts((prev) =>\r\n        prev.map((c) => (c._id === updated._id ? updated : c))\r\n      );\r\n\r\n      setIsEditing(false);\r\n    } catch (error) {\r\n      alert(\"Update failed ‚ùå\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-slate-50 dark:bg-slate-900 px-6 py-10\">\r\n      \r\n      {/* üîç SEARCH */}\r\n      <SearchBar\r\n        value={query}\r\n        onChange={setQuery}\r\n        selectedCompany={selectedCompany}\r\n        setSelectedCompany={setSelectedCompany}\r\n        selectedTag={selectedTag}\r\n        setSelectedTag={setSelectedTag}\r\n      />\r\n\r\n      {query.trim() === \"\" && (\r\n        <p className=\"mt-6 text-center text-slate-500\">\r\n          Start typing to search contacts\r\n        </p>\r\n      )}\r\n\r\n      {query.trim() !== \"\" && (\r\n        <ContactList\r\n          contacts={results}\r\n          onEdit={(contact) => {\r\n            setSelected(contact);\r\n            setIsEditing(false);\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {/* üìÑ DETAILS / EDIT FORM */}\r\n      {selected && (\r\n        <div className=\"mt-10 bg-white dark:bg-slate-800 p-6 rounded-2xl shadow-lg max-w-3xl\">\r\n          <h3 className=\"text-xl font-bold text-yellow-500 mb-6\">\r\n            {isEditing ? \"Edit Contact\" : \"Contact Details\"}\r\n          </h3>\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            {[\"firstName\", \"lastName\", \"email\", \"phone\", \"company\", \"tag\"].map(\r\n              (field) => (\r\n                <input\r\n                  key={field}\r\n                  name={field}\r\n                  value={selected[field]}\r\n                  onChange={handleChange}\r\n                  disabled={!isEditing}\r\n                  className={`input ${\r\n                    !isEditing ? \"bg-slate-100 cursor-not-allowed\" : \"\"\r\n                  }`}\r\n                  placeholder={field}\r\n                />\r\n              )\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"flex gap-4 mt-6\">\r\n            {!isEditing ? (\r\n              <button\r\n                onClick={() => setIsEditing(true)}\r\n                className=\"feature-btn bg-yellow-500 hover:bg-yellow-600\"\r\n              >\r\n                Edit\r\n              </button>\r\n            ) : (\r\n              <button\r\n                onClick={handleUpdate}\r\n                className=\"feature-btn bg-green-500 hover:bg-green-600\"\r\n              >\r\n                Update Contact\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}